import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

def obtener_datos_usuario():
    remitente = input("Ingrese su dirección de correo (remitente): ")
    password = input("Ingrese su contraseña de correo: ")
    destinatario = input("Ingrese la dirección de correo del destinatario: ")
    servidor_smtp = input("Ingrese el servidor SMTP (por ejemplo, smtp.gmail.com): ")
    puerto_smtp = int(input("Ingrese el puerto SMTP (por ejemplo, 587): "))
    asunto = input("Ingrese el asunto del correo: ")
    cuerpo = input("Ingrese el cuerpo del correo: ")

    return remitente, password, destinatario, servidor_smtp, puerto_smtp, asunto, cuerpo

def enviar_correo(destinatario, asunto, cuerpo, remitente, password, servidor_smtp, puerto_smtp):

    mensaje = MIMEMultipart()
    mensaje['From'] = remitente
    mensaje['To'] = destinatario
    mensaje['Subject'] = asunto
    mensaje.attach(MIMEText(cuerpo, 'plain'))

   
    with smtplib.SMTP(host=servidor_smtp, port=puerto_smtp) as server:
        server.starttls()  
        server.login(remitente, password)

        server.send_message(mensaje)

if __name__ == "__main__":
    remitente, password, destinatario, servidor_smtp, puerto_smtp, asunto, cuerpo = obtener_datos_usuario()

    enviar_correo(destinatario, asunto, cuerpo, remitente, password, servidor_smtp, puerto_smtp)